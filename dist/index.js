"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _iterableToArrayLimit(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var COMBINE_FN_SIGIL=Symbol("combine_fn"),FORWARD_PROPS_FN_SIGIL=Symbol("forward_props_fn"),CTOR_PATTERN=/\[object\s(\w+)\]/,getInternalCtor=function(t){return _slicedToArray(Object.prototype.toString.call(t).match(CTOR_PATTERN),2)[1]},isPromiseLike=function(t){return t&&("Promise"===getInternalCtor(t)||isFunction(t.then)&&isFunction(t.catch))},isFunction=function(t){return"Function"===getInternalCtor(t)},isCombineFn=function(t){return!0===t[COMBINE_FN_SIGIL]},toCombineFn=function(t){return isFunction(t)?(t[COMBINE_FN_SIGIL]=!0,Object.freeze(t)):t},compose=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})},toForwardPropsFn=function(t){return isFunction(t)?(t[FORWARD_PROPS_FN_SIGIL]=!0,Object.freeze(t)):t},isForwardPropsFn=function(t){return!0===t[FORWARD_PROPS_FN_SIGIL]},forwardProps=function(e){if(!isFunction(e))return e;return toForwardPropsFn(function(t){return e.bind(null,t)})},hookBuilder=function(t){if(!t.every(isCombineFn)){var e=t.find(function(t){return!isCombineFn(t)});throw Error("Hacked ".concat(e.name))}var r=Function,n=t.map(function(t,e){return"\n    const state".concat(e+1," = {\n      ...state").concat(e,",\n      ...funcs[").concat(e,"](state").concat(e,", props),\n    };\n  ")}).join("\n");return new r("funcs","props","\n    const state0 = {};\n    ".concat(n,"\n    return state").concat(t.length,";\n  ")).bind(null,t)},combine=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(r){var o=null,n=null;if(1===e.length&&!isCombineFn(e[0])){var t=(0,e[0])(function(n){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(void 0,[o].concat(e))}});n=hookBuilder(t)}else 0<e.length&&(n=hookBuilder(e));return function(t){var e=n(o=t);return React__default.createElement(r,_extends({},t,e))}}},withStateHandlers=function(f,l){return toCombineFn(function(t){for(var e=isFunction(f)?f(t):f,r=_slicedToArray(React.useState(e),2),n=r[0],o=r[1],i={},a=function(t){return o(_objectSpread({},n,t))},c=0,u=Object.keys(l);c<u.length;c++){var s=u[c];i[s]=compose(a,l[s](n))}return _objectSpread({},n,i)})},withDefaultProps=function(r){return toCombineFn(function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _objectSpread({},r,t,e)})},withFilterProps=function(r){return toCombineFn(function(t,e){return isFunction(r)?r(_objectSpread({},t,e)):_objectSpread({},t,e)})},withCallbacks=function(c){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return toCombineFn(function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={},n=u.map(function(t){return e[t]}),o=0,i=Object.keys(c);o<i.length;o++){var a=i[o];isFunction(c[a])&&(isForwardPropsFn(c[a])?r[a]=React.useCallback(c[a](_objectSpread({},t,e)),n):r[a]=React.useCallback(c[a],n))}return _objectSpread({},r)})},withMapProps=function(r){return toCombineFn(function(t,e){return isFunction(r)?_objectSpread({},t,e,r.apply(void 0,_toConsumableArray(t).concat(_toConsumableArray(e)))):_objectSpread({},t,e,r)})},withContext=function(e,r){return toCombineFn(function(){var t=React.useContext(e);return _defineProperty({},r,t)})},withReducer=function(o,i,a,c){return toCombineFn(function(){var t,e=_slicedToArray(React.useReducer(o,c),2),r=e[0],n=e[1];return _defineProperty(t={},i,r),_defineProperty(t,a,n),t})},withEffect=function(e,r){return toCombineFn(function(t){React.useEffect(e.bind(null,t),r)})},withState=function(o,i,a){return toCombineFn(function(){var t,e=_slicedToArray(React.useState(a),2),r=e[0],n=e[1];return _defineProperty(t={},o,r),_defineProperty(t,i,n),t})},withRef=function(e,r){return toCombineFn(function(){var t=React.useRef(r);return _defineProperty({},e,t)})};exports.combine=combine,exports.compose=compose,exports.forwardProps=forwardProps,exports.isCombineFn=isCombineFn,exports.isForwardPropsFn=isForwardPropsFn,exports.isFunction=isFunction,exports.isPromiseLike=isPromiseLike,exports.toCombineFn=toCombineFn,exports.toForwardPropsFn=toForwardPropsFn,exports.withCallbacks=withCallbacks,exports.withContext=withContext,exports.withDefaultProps=withDefaultProps,exports.withEffect=withEffect,exports.withFilterProps=withFilterProps,exports.withMapProps=withMapProps,exports.withReducer=withReducer,exports.withRef=withRef,exports.withState=withState,exports.withStateHandlers=withStateHandlers;
