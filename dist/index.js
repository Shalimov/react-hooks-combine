"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,e){var r=[],n=!0,o=!1,c=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,c=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw c}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var CTOR_PATTERN=/\[object\s(\w+)\]/,getInternalCtor=function(t){return _slicedToArray(Object.prototype.toString.call(t).match(CTOR_PATTERN),2)[1]},isPromiseLike=function(t){return t&&("Promise"===getInternalCtor(t)||isFunction(t.then)&&isFunction(t.catch))},isFunction=function(t){return"Function"===getInternalCtor(t)},isObject=function(t){return"Object"===getInternalCtor(t)},compose=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})},isCombineConfigMode=function(t){return 1===t.length&&isObject(t[0])},getDeps=function(e,t){return Array.isArray(t)?t.map(function(t){return e[t]}):t},defaultProps=function(e){return function(t){if("object"!==_typeof(e))throw Error("defaultProps expects object, got a ".concat(getInternalCtor(e)));return t.defaultProps=e,t}},propTypes=function(e){return function(t){if("object"!==_typeof(e))throw Error("propTypes expects object, got a ".concat(getInternalCtor(e)));return t.propTypes=e,t}},flow=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce(function(t,e){return e(t)},t)}},hookBuilder=function(t){var e=t.findIndex(function(t){return!isFunction(t)});if(-1!==e)throw Error("\n      Expects function,\n      got a: ".concat(_typeof(t[e]),"\n      on index: ").concat(e,"\n    "));var r=Function,n=t.map(function(t,e){return"\n    const state".concat(e+1," = {\n      ...state").concat(e,",\n      ...funcs[").concat(e,"](state").concat(e,", props),\n    };\n  ")}).join("\n");return new r("funcs","props","\n    const state0 = {};\n    ".concat(n,"\n    return state").concat(t.length,";\n  ")).bind(null,t)},combineFromConfig=function(i){return function(n){var t=i[0],e=t.hooks,r=t.defaultProps,o=t.filterProps,c=hookBuilder(e);return r&&defaultProps(r)(n),function(t){var e=c(t),r=isFunction(o)?o(_objectSpread({},e,t)):_objectSpread({},e,t);return React__default.createElement(n,r)}}},combine=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(r){var t=null;if(isCombineConfigMode(e))t=combineFromConfig(e)(r);else{var n=hookBuilder(e);t=function(t){var e=n(t);return React__default.createElement(r,_extends({},t,e))}}return t.displayName="".concat(r.displayName||r.name,"Hooked"),t}},withCallbacks=function(f,s){return function(t,e){for(var r={},n=getDeps(e,s),o=0,c=Object.entries(f);o<c.length;o++){var i=_slicedToArray(c[o],2),u=i[0],a=i[1];r[u]=React.useCallback(a(t,e),n)}return r}},withCallback=function(n,o,c){return function(t,e){var r=getDeps(e,c);return _defineProperty({},n,React.useCallback(o(t,e),r))}},withStateHandlers=function(y,d){return function(t,e){for(var r=isFunction(y)?y(t,e):y,n=_slicedToArray(React.useState(r),2),o=n[0],c=n[1],i={},u=function(t){return c(_objectSpread({},o,t))},a=0,f=Object.entries(d);a<f.length;a++){var s=_slicedToArray(f[a],2),l=s[0],p=s[1];i[l]=compose(u,p(o))}return _objectSpread({},o,i)}},withAsyncEffect=function(c,i,u){return function(e,r){if(!isFunction(c))throw Error("withAsyncEffect expects function, got a: ".concat(getInternalCtor(c)));var t=_slicedToArray(React.useState({loading:!0,data:null}),2),n=t[0],o=t[1];return React.useEffect(function(){o(_objectSpread({},n,{loading:!0}));var t=c(e,r);if(!isPromiseLike(t))throw Error("withAsyncEffect expects Promise, got a: ".concat(getInternalCtor(t)));return t.then(function(t){return o({loading:!1,data:t})}),u},getDeps(_objectSpread({},e,r),i)),n}},withMemos=function(f){return function(e,r){for(var t={},n=function(t){return function(){return t(e,r)}},o=0,c=Object.entries(f);o<c.length;o++){var i=_slicedToArray(c[o],2),u=i[0],a=i[1];t[u]=React.useMemo(n(a.func),getDeps(_objectSpread({},e,r),a.deps))}return t}},withMemo=function(n,o,c){return function(t,e){var r=React.useMemo(function(){return o(t,e)},getDeps(_objectSpread({},t,e),c));return _defineProperty({},n,r)}},withContext=function(e,r){return function(){var t=React.useContext(e);return _defineProperty({},r,t)}},withReducer=function(o,c,i,u){return function(){var t,e=_slicedToArray(React.useReducer(o,u),2),r=e[0],n=e[1];return _defineProperty(t={},c,r),_defineProperty(t,i,n),t}},withEffect=function(n,o){return function(t,e){var r=getDeps(e,o);React.useEffect(n.bind(null,t,e),r)}},withState=function(o,c,i){return function(){var t,e=_slicedToArray(React.useState(i),2),r=e[0],n=e[1];return _defineProperty(t={},o,r),_defineProperty(t,c,n),t}},withRef=function(e,r){return function(){var t=React.useRef(r);return _defineProperty({},e,t)}};exports.combine=combine,exports.defaultProps=defaultProps,exports.flow=flow,exports.propTypes=propTypes,exports.withAsyncEffect=withAsyncEffect,exports.withCallback=withCallback,exports.withCallbacks=withCallbacks,exports.withContext=withContext,exports.withEffect=withEffect,exports.withMemo=withMemo,exports.withMemos=withMemos,exports.withReducer=withReducer,exports.withRef=withRef,exports.withState=withState,exports.withStateHandlers=withStateHandlers;
